<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù…ÙŠØ¹Ø§Ø¯</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="style.css" />
<meta name="color-scheme" content="dark light">
<style>
/* Ø­Ù‚ÙˆÙ„ Ø¹Ø§Ù…Ø© */
.field{ margin:8px 0 }
.field label{ display:block; font-weight:700; margin:4px 0; line-height:1.6 }
.field input,.field select{
  width:100%; padding:10px; border-radius:10px; box-sizing:border-box;
  border:1px solid rgba(59,130,246,.35);
}

/* Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ù‚ÙˆÙ„ */
.grid2{ display:grid; gap:12px; grid-template-columns:1fr }
@media (min-width:900px){ .grid2{ grid-template-columns:1fr 1fr } }

/* Ù…Ø³Ø§ÙØ§Øª Ù…Ø±ÙŠØ­Ø© Ø¨ÙŠÙ† Ø§Ù„ÙƒØ±ÙˆØª */
.card{ margin-bottom:18px; position:relative }

/* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.actions-row{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px }

/* â€œØ§Ù„ØªØ°ÙƒÙŠØ±â€ Ø¨Ø¹Ø¯ â€œØ§Ù„ØªØ­ÙƒÙ…Ø§Øªâ€ */
.controls + #reminder-card{ margin-top:22px }

/* ØªÙ†Ø³ÙŠÙ‚ Ø£Ø³Ø§Ø³ÙŠ Ù„Ù‚Ø³Ù… Ø§Ù„ØªØ°ÙƒÙŠØ± */
/* ===== Reminder Card â€“ polished mobile-first ===== */
#reminder-card.card { padding:16px 18px; }

#reminder-card .title{
  font-size:1.15rem;
  margin:0 0 6px;
  text-align:center;
}

/* Ø³Ø·Ø± Ø§Ù„ÙˆØµÙ ØªØ­Øª Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
#reminder-card .hint{
  margin:0 auto 12px;
  opacity:.85;
  font-size:.92rem;
  text-align:center;
  max-width:34rem;
}

/* ØµÙÙˆÙ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª */
#reminder-card .row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  padding:8px 0;
  direction:rtl; /* Ù…Ø­Ø§Ø°Ø§Ø© RTL Ø¬Ù…ÙŠÙ„Ø© */
}

/* Ø¹Ù†ÙˆØ§Ù† ØµØºÙŠØ± Ù„ÙƒÙ„ ØµÙ */
#reminder-card .row .label{
  font-weight:700;
  white-space:nowrap;
}

/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙŠØ§Ù… */
#reminder-card select{
  min-width: 9rem;
  max-width: 12rem;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(59,130,246,.35);
  background:var(--card);
}

/* Ø²Ø± Ø§Ù„Ø­ÙØ¸ ÙˆØ­Ø§Ù„Ø© Ø§Ù„Ø­ÙØ¸ */
#reminder-card .actions-row{
  margin-top:10px;
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
}
#reminder-card #rem-status{ opacity:.8 }

/* ===== Ø´ÙƒÙ„ Ø³ÙˆÙŠØªØ´ Ø£Ù†ÙŠÙ‚ Ù„Ù„ØªÙ…ÙƒÙŠÙ† ===== */
.switch{
  position:relative; display:inline-block;
  width:46px; height:26px; vertical-align:middle;
}
.switch input{ display:none; }
.switch .slider{
  position:absolute; inset:0; cursor:pointer;
  background:#cbd5e1; border-radius:100px;
  transition:.25s;
}
.switch .slider::before{
  content:""; position:absolute; height:20px; width:20px;
  right:3px; top:3px; border-radius:50%;
  background:#fff; box-shadow:0 1px 3px rgba(0,0,0,.15);
  transition:.25s;
}
.switch input:checked + .slider{ background:#3b82f6; }
.switch input:checked + .slider::before{ transform:translateX(-20px); }
/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ */
.events{ margin-top:12px }
.ev{
  background:var(--card);
  border:1px solid rgba(59,130,246,.22);
  border-radius:12px; padding:10px;
  display:flex; align-items:center; justify-content:space-between;
  gap:8px; margin-bottom:8px;
}
.ev .meta{ display:flex; gap:8px; flex-wrap:wrap; font-size:.9rem; opacity:.9 }
.color{ width:14px; height:14px; border-radius:4px; border:1px solid rgba(0,0,0,.1) }

/* ØªÙ„Ù…ÙŠØ­Ø§Øª */
.legend{ display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; font-size:.9rem }
.legend .pill{ padding:.18rem .5rem; border-radius:999px; border:1px solid rgba(59,130,246,.25) }

.print-note{ text-align:center; margin-top:8px; opacity:.8 }

/* Ø·Ø¨Ø§Ø¹Ø© */
@media print{
  .topbar,.actions-row,.controls,.btn,.toast{ display:none !important }
  .ev{ page-break-inside:avoid }
}
</style>
</head>
<body>
    <div class="global-bg"></div>
  <div class="backdrop"></div>
  <div class="pattern"></div>

  <div class="topbar">
    <div class="left-actions"><a class="btn" href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></div>
    <div class="actions"><button class="btn" id="themeToggle">ğŸŒ“</button></div>
    <div class="user"><a class="btn" href="programs.html">Ù…Ø³Ø§Ø­Ø© Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ</a></div>
  </div>

  <header>
    <div class="hero">
      <h1 class="logo">Ù…Ù€ÙÙ€ÙŠØ¹Ù€Ø§Ø¯</h1>
      <div class="tag"><span class="dot"></span>Ù…ÙŠØ¹Ø§Ø¯Ùƒ Ù…Ø±Ø¢Ø© Ø­Ø±ØµÙƒ ÙˆØ§Ù„ØªØ²Ø§Ù…Ùƒ..</div>
    </div>
  </header>

  <main>
    <div class="container">
      <!-- Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ -->
      <section class="card controls">
        <h2 class="title">Ø£Ø¶ÙÙ Ù…ÙˆØ¹Ø¯Ù‹Ø§ Ø¥Ù„Ù‰ ØªÙ‚ÙˆÙŠÙ… Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</h2>
        <form id="miyad-form">
          <div class="grid2">
            <div class="field"><label>Ø§Ù„Ù…Ø§Ø¯Ø©</label><input id="m-subj" placeholder="Ù…Ø«Ø§Ù„: Ø¹Ù„ÙˆÙ…"></div>
            <div class="field"><label>Ø§Ù„ÙØµÙ„</label><input id="m-class" placeholder="Ù…Ø«Ø§Ù„: 6/Ø¨"></div>

            <div class="field">
              <label>Ø§Ù„ÙŠÙˆÙ…</label>
              <select id="m-day">
                <option>Ø§Ù„Ø£Ø­Ø¯</option><option>Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†</option><option>Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</option><option>Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</option><option>Ø§Ù„Ø®Ù…ÙŠØ³</option>
              </select>
            </div>

        <div class="field"><label>Ø§Ù„Ø­ØµØ© Ø±Ù‚Ù…</label>
  <input id="m-slot" type="number" min="1" max="8" value="1">
</div>

<div class="field"><label>Ø§Ù„ØªØ§Ø±ÙŠØ® (Ù…Ù‡Ù… Ù„Ù„ØªØ°ÙƒÙŠØ±Ø§Øª)</label>
  <input id="m-date" type="text" placeholder="Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ®">
</div>

<div class="field">
  <label>Ù„ÙˆÙ†</label>
  <select id="m-color">
    <option value="#60a5fa">Ø£Ø²Ø±Ù‚</option>
    <option value="#22c55e">Ø£Ø®Ø¶Ø±</option>
    <option value="#f59e0b">Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ</option>
    <option value="#ef4444">Ø£Ø­Ù…Ø±</option>
    <option value="#a78bfa">Ø¨Ù†ÙØ³Ø¬ÙŠ</option>
  </select>
</div>
          </div>
        </form>

        <div class="actions-row">
          <button class="btn primary" id="add">Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¹Ø¯</button>
          <button class="btn" id="export">Ù†Ø³Ø® Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯</button>
          <button class="btn" id="print">Ø·Ø¨Ø§Ø¹Ø©</button>
          <button class="btn ghost" id="clear">Ø­Ø°Ù Ø§Ù„ÙƒÙ„</button>
        </div>
      </section>

      <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ -->
      <section class="card">
        <h2 class="title">Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ â°</h2>
        <div class="legend">
          <span class="pill">Ø±ØªÙ‘Ø¨ Ø­Ø³Ø¨ Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„Ø­ØµØ©</span>
          <span class="pill">ÙƒÙ„ Ù…ÙˆØ¹Ø¯ ÙŠØ¸Ù‡Ø± Ù…Ø¹Ù‡ Ø§Ù„Ù„ÙˆÙ† + Ø§Ù„Ù…Ø§Ø¯Ø© + Ø§Ù„ÙØµÙ„</span>
        </div>
        <div class="events" id="list"></div>
        <p class="print-note">Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… Ø³ÙŠÙ…Ø¶ÙŠâ€¦ ÙˆØ³ÙŠØ¨Ù‚Ù‰ Ù…Ù†Ù‡ Ø§Ù„Ø£Ø«Ù€Ø± ğŸŒ¿</p>
      </section>

      <!-- Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ± Ø¹Ø¨Ø± Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ -->
      <section class="card" id="reminder-card">
        <h2 class="title">Ø§Ù„ØªØ°ÙƒÙŠØ± Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ğŸ“©</h2>
        <p class="hint">ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.</p>

        <div class="row">
          <div class="label">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ°ÙƒÙŠØ± Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
          <label class="switch" aria-label="ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ°ÙƒÙŠØ± Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯">
            <input type="checkbox" id="rem-enable">
            <span class="slider"></span>
          </label>
        </div>

        <div class="row">
          <div class="label">Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€</div>
          <select id="rem-days" aria-label="Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€">
            <option value="1">ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯</option>
            <option value="2" selected>ÙŠÙˆÙ…ÙŠÙ†</option>
            <option value="3">3 Ø£ÙŠØ§Ù…</option>
            <option value="4">4 Ø£ÙŠØ§Ù…</option>
            <option value="5">5 Ø£ÙŠØ§Ù…</option>
            <option value="6">6 Ø£ÙŠØ§Ù…</option>
            <option value="7">7 Ø£ÙŠØ§Ù…</option>
          </select>
        </div>

        <div class="actions-row">
          <button class="btn" id="rem-save">Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ±</button>
          <span id="rem-status" class="muted"></span>
        </div>
      </section>
    </div> <!-- Ù‡Ù†Ø§ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù€ container -->
  </main>

  <footer>
    <p class="foot-line">Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø´Ø±Ø§Ø±Ø© ØµØºÙŠØ±Ø©â€¦ ØªÙØ¶ÙŠØ¡ Ø¹Ù‚ÙˆÙ„Ù‹Ø§ ÙƒØ¨ÙŠØ±Ø©.</p>
    <p class="foot-name">Ù†Ø¯Ù‰ Ø§Ù„Ù…Ø¬ÙŠØ±Ø´</p>
  </footer>

  <div class="toast" id="toast"></div>

  <!-- ========== Ø³ÙƒØ±Ø¨Øª Ø§Ù„ØµÙØ­Ø©: Ù…Ù†Ø·Ù‚ Ù…ÙŠØ¹Ø§Ø¯ + Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª + Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ± ========== -->
  <script>
    /* ====== Ø£Ø¯ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø© ====== */
    const KEY='mi3ad:events';
    function toast(m){ const t=document.getElementById('toast'); if(!t) return; t.textContent=m; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1200); }
    function load(){ try{ return JSON.parse(localStorage.getItem(KEY)||'[]'); }catch(_){ return [] } }
    function save(list){ localStorage.setItem(KEY, JSON.stringify(list)); }

    /* Ø±Ù†Ø¯Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
    function render(){
      const box=document.getElementById('list'); box.innerHTML='';
      const daysOrder={'Ø§Ù„Ø£Ø­Ø¯':1,'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†':2,'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡':3,'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡':4,'Ø§Ù„Ø®Ù…ÙŠØ³':5};
      const items=load().sort((a,b)=> (daysOrder[a.day]-daysOrder[b.day]) || (a.slot-b.slot));
      if(!items.length){ box.innerHTML='<p class="muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø¨Ø¹Ø¯.</p>'; return; }
      items.forEach((e,i)=>{
        const d=document.createElement('div'); d.className='ev';
        d.innerHTML=`
          <div class="meta">
            <span class="color" style="background:${e.color}"></span>
            <strong>${e.subj}</strong>
            <span>â€” ÙØµÙ„ ${e.cls}</span>
            <span>â€” ${e.day} (Ø­ØµØ© ${e.slot})</span>
            ${e.date?`<span>â€” ${e.date}</span>`:''}
          </div>
          <a href="#" data-i="${i}" class="btn ghost" style="padding:6px 10px">Ø­Ø°Ù</a>`;
        box.appendChild(d);
      });
    }

    /* ====== ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) ====== */
    function logUse(tag){
      try { if (typeof supaLogToolUsage === 'function') supaLogToolUsage(tag); } catch(_) {}
    }

    /* Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
    document.addEventListener('DOMContentLoaded', ()=>{
      if (typeof bindAutoSave === 'function') bindAutoSave('miyad', '#miyad-form');
      render();
      logUse('miyad:view');

      document.getElementById('add').addEventListener('click', ()=>{
        const subj=document.getElementById('m-subj').value.trim();
        const cls =document.getElementById('m-class').value.trim();
        const day =document.getElementById('m-day').value;
        const slot=+document.getElementById('m-slot').value||1;
        const date=document.getElementById('m-date').value;
        const color=document.getElementById('m-color').value;
        if(!subj||!cls){ toast('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø§Ø¯Ø© ÙˆØ§Ù„ÙØµÙ„'); return; }
        const list=load(); list.push({subj,cls,day,slot,date,color}); save(list); render(); toast('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ù€Ù€Ø§ÙØ© âœ…');
        logUse('miyad:add_event');
      });

      document.getElementById('list').addEventListener('click', (e)=>{
        const a=e.target.closest('a[data-i]'); if(!a) return; e.preventDefault();
        const i=+a.getAttribute('data-i'); const list=load(); list.splice(i,1); save(list); render();
        logUse('miyad:delete_event');
      });

      document.getElementById('export').addEventListener('click', ()=>{
        const txt=load().map(e=>`${e.day} | Ø­ØµØ© ${e.slot} | ${e.subj} â€” ÙØµÙ„ ${e.cls}${e.date?(' â€” '+e.date):''}`).join('\n');
        navigator.clipboard.writeText(txt||'').then(()=>{ toast('ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…'); logUse('miyad:export'); });
      });

      document.getElementById('print').addEventListener('click', ()=>{ window.print(); logUse('miyad:print'); });

      document.getElementById('clear').addEventListener('click', ()=>{
        if(confirm('Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØŸ')){ localStorage.removeItem(KEY); render(); logUse('miyad:clear_all'); }
      });
    });

    /* ====== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ± (Supabase + Auth0) ====== */
    // Ù†Ø¶Ù…Ù† Ø£Ù†Ù†Ø§ Ù†Ø±Ø¬Ø¹ "client" ÙÙŠÙ‡ .from â€” ÙˆÙ„ÙŠØ³ Ù…ÙƒØªØ¨Ø© supabase Ù†ÙØ³Ù‡Ø§
    function pickSupaClient(){
      if (window.supa && typeof window.supa.from === 'function') return window.supa;
      if (window.supabaseClient && typeof window.supabaseClient.from === 'function') return window.supabaseClient;
      return null; // Ù„Ø§ ØªØ±Ø¬Ù‘Ø¹ window.supabase Ù„Ø£Ù†Ù‡Ø§ Ù…Ø¬Ø±Ø¯ Ù…ÙƒØªØ¨Ø© createClient
    }
    async function waitForSupa(max=40){ // ~4 Ø«ÙˆØ§Ù†ÙŠ
      for (let i=0;i<max;i++){
        const c = pickSupaClient();
        if (c) return c;
        await new Promise(r=>setTimeout(r,100));
      }
      return null;
    }
    async function getAuthUser(){
      try { return await window.auth?.getUser(); } catch(_) { return null; }
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    async function loadReminderSettings() {
      const sb   = await waitForSupa();
      const user = await getAuthUser();
      if (!sb || !user) return;

      const { data, error } = await sb
        .from('miyad_settings')
        .select('reminders_enabled, remind_days_before')
        .eq('user_id', user.sub)
        .maybeSingle();

      if (error) { console.warn('loadReminderSettings error:', error); return; }

      const enable = data?.reminders_enabled ?? false;
      const days   = data?.remind_days_before ?? 2;

      const cb  = document.getElementById('rem-enable');
      const sel = document.getElementById('rem-days');
      if (cb)  cb.checked = !!enable;
      if (sel) sel.value  = String(days);
    }

    // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    async function saveReminderSettings() {
      const sb   = await waitForSupa();
      const user = await getAuthUser();
      if (!sb || !user) { (window.toast? toast('Ø³Ø¬Ù‘Ù„ÙŠ Ø¯Ø®ÙˆÙ„Ùƒ Ø£ÙˆÙ„Ù‹Ø§') : alert('Ø³Ø¬Ù‘Ù„ÙŠ Ø¯Ø®ÙˆÙ„Ùƒ Ø£ÙˆÙ„Ù‹Ø§')); return; }

      const cb   = document.getElementById('rem-enable');
      const sel  = document.getElementById('rem-days');
      const stat = document.getElementById('rem-status');

      const payload = {
        user_id: user.sub,
        email:   user.email || null,
        reminders_enabled: !!cb.checked,
        remind_days_before: Number(sel.value || 2)
      };

      stat.textContent = 'Ø¬Ø§Ø±Ù Ø§Ù„Ø­ÙØ¸â€¦';
      const { error } = await sb.from('miyad_settings').upsert(payload, { onConflict: 'user_id' });
      if (error) { console.error('saveReminderSettings error:', error); stat.textContent='ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø­ÙØ¸'; toast('ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø­ÙØ¸'); return; }

      stat.textContent = 'ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ“';
      toast('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ± âœ“');
    }

    // Ø±Ø¨Ø· Ø£Ø²Ø±Ø§Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ± + ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ©
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('rem-save')?.addEventListener('click', saveReminderSettings);
      window.addEventListener('auth0:ready', loadReminderSettings);
      setTimeout(loadReminderSettings, 1500); // Ø§Ø­ØªÙŠØ§Ø·
    });
  </script>

  <!-- ========== Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­ ========== -->
  <!-- Supabase -->
  <script defer src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script defer src="assets/js/supabase-client.js"></script>

  <!-- Auth0 SDK (Ø¨Ø¯ÙˆÙ† defer Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ© Ù‚Ø¨Ù„ require-auth) -->
  <script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"
          onerror="this.onerror=null;this.src='/assets/vendor/auth0-spa-js.production.js'"></script>

  <!-- Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø© -->
  <script defer src="assets/js/require-auth.js"></script>

  <!-- Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ -->
  <script defer src="assets/js/storage.js"></script>
  <script defer src="app.js"></script>
  <!-- Flatpickr -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ar.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    flatpickr("#m-date", {
      locale: "ar",
      dateFormat: "Y-m-d"
    });
  });
</script>
</body>
</html>
