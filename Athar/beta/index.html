<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>ุฃุซููููุฑ</title>

  <link rel="icon" type="image/png" href="assets/icon.png">
  <link rel="apple-touch-icon" href="assets/icon.png">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="ุฃุซูููุฑ">
  <meta property="og:description" content="ุญูู ููุชูู ุงูุดุบู ุจุงููุนุฑูุฉ .. ููุตูุน ุงูุฃุซุฑ">
  <meta property="og:image" content="https://n-athar.co/assets/icon.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ุฃุซูููุฑ">
  <meta name="twitter:description" content="ุญูู ููุชูู ุงูุดุบู ุจุงููุนุฑูุฉ .. ููุตูุน ุงูุฃุซุฑ">
  <meta name="twitter:image" content="https://n-athar.co/assets/icon.png">

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <!-- (ุงุฎุชูุงุฑู) Tailwind CDN ููุชุฌุงุฑุจ ููุท -->
  <script defer src="https://cdn.tailwindcss.com"></script>

  <!-- ุชููุฆุฉ ุงูุซูู ุงููุจูุฑุฉ -->
  <script>
    (function(){
      var root = document.documentElement;
      var saved = null;
      try { saved = localStorage.getItem('theme'); } catch(_) {}
      if (saved === 'dark') root.classList.add('dark');
      else {
        root.classList.remove('dark');
        try { localStorage.setItem('theme','light'); } catch(_) {}
      }
      function fixBodyDark(){
        if (document.body && document.body.classList.contains('dark')) {
          document.body.classList.remove('dark');
          root.classList.add('dark');
        }
      }
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', fixBodyDark);
      } else {
        fixBodyDark();
      }
    })();
  </script>
</head>
<body>
  <div class="global-bg"></div>
  <div class="backdrop"></div>
  <div class="pattern"></div>

  <!-- Topbar -->
  <div class="topbar">
    <div class="tb-left">
      <button id="loginBtn" class="btn" type="button">ุชุณุฌูู ุงูุฏุฎูู</button>
      <button id="registerBtn" class="btn" type="button">ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</button>
      <button id="logout" class="btn" type="button">ุชุณุฌูู ุฎุฑูุฌ</button>
    </div>

    <div class="tb-center">
      <!-- ูุธูุฑ ููุท ููุฃุฏูู ุนุจุฑ app.js -->
      <a id="adminBtn" href="/admin.html" style="display:none">ููุญุฉ ุงูุชุญูู</a>
      <button class="btn" id="themeToggle" title="ุงููุถุน ุงูุฏุงูู/ุงููุงุชุญ">๐</button>
      <a class="btn" href="programs.html">ูุณุงุญุฉ ุฅุจุฏุงุนู</a>
    </div>

    <div class="tb-right">
      <a class="btn" href="pricing.html">ุงูุฏูุน ูุงูุฅุดุชุฑุงู</a>
      <!-- ูุธูุฑ ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู -->
      <a id="nav-profile" class="btn" href="profile.html" style="display:none">ูููู ุงูุดุฎุตู</a>
    </div>
  </div>

  <header>
    <div class="hero">
      <h1 class="logo">ุฃุซููููุฑ</h1>
      <div class="tag"><span class="dot"></span>ุญูู ููุชูู ุงูุดุบู ุจุงููุนุฑูุฉ .. ููุตูุน ุงูุฃุซูููุฑ</div>
    </div>
  </header>

  <main>
    <div class="container">

      <!-- ============ ูุจุฐุฉ ยซุฃุซุฑยป ============ -->
      <section class="info">

        <!-- 1) ูุง ูู ุฃุซุฑุ -->
        <article class="card info-card">
          <h2 class="title">ูุง ูู ยซุฃุซุฑยปุ</h2>
          <p class="lead">
            ููุตุฉ ุชุนููููุฉ ุฐููุฉ ุตููููุช ูุชููู ูุณุงุญุฉ ุฅุจุฏุงุน ูููุนูู. ุชููููุฏ ุงุณุชุฑุงุชูุฌูุงุช ูุฃูุดุทุฉ ูุฃุณุฆูุฉ
            ุชูุงุนููุฉ <strong>ูููู ุชุนุฏูููุง ูุชูุงุณุจ ุฏุฑุณู ูุทูุงุจู</strong>ุ ูุชููุญู ุฃุฏูุงุช ุนูููุฉ ุชูุจุณูุท
            ุงูุชุฎุทูุท ูุงูุฅุฏุงุฑุฉ ูุชุตุจุญ ุงูุญุตุฉ ุฃูุซุฑ ุฃุซุฑูุง ููุงุนููุฉ.
          </p>
        </article>

        <!-- 2) ูุง ูู ุงุณุชุฑุงุชูุฌูุงุช ุจูููุ -->
        <article class="card info-card">
          <h2 class="title">ูุง ูู ุงุณุชุฑุงุชูุฌูุงุช ุจูููุ</h2>
          <p class="lead">
            ุจููู ุฅุทุงุฑ ุนุงููู ูููุธูู ูุณุชููุงุช ุงูุชุนููู (ุชุฐููุฑุ ูููุ ุชุทุจููุ ุชุญูููุ ุชููููุ ุงุจุชูุงุฑ).
            ูุณููู ุนูู ุงููุนูู ุจูุงุก ุฃุณุฆูุฉ ูุฃูุดุทุฉ ุชุตุนุฏ ุจุงูุทุงูุจ ุชุฏุฑูุฌููุงุ ูุชุชูุงุฒู ุงูุญุตุฉ ุจูู
            ุงูุชุฐููุฑ ูุงูุชูููุฑ ุงูุนููู.
          </p>
        </article>

        <!-- 3) ููู ูููุฏูู ุฃุซุฑ ููุนูู/ูุฉุ -->
        <article class="card info-card">
          <h2 class="title">ููู ูููุฏูู ยซุฃุซุฑยป ููุนูู/ูุฉุ</h2>
          <p class="lead">
            ูุชูุญ ูู ุฃุซูููุฑ ููุงูุจ ุฌุงูุฒุฉ ุชูุณุฑูุน ุฅุนุฏุงุฏ ุงูุฏุฑูุณ ุงูุฅุจุฏุงุนูุฉ ูุชูุจุนุฏ ุนูู ุงูุชูุฑุงุฑ ุงููุฑููุ ููุง ูุฒูุฏู ุจุฃูุดุทุฉ ูุฃุณุฆูุฉ ูุฑูุฉ ุชูุงุฆู ูุณุชูู ุทูุงุจู ูููุช ุงูุญุตุฉุ
            ูุชุฒูุฏู ุจุฃุฏูุงุช ุฐููุฉ ุชุฌุนู ุฎุทุชู ุฃูุซุฑ ุชูุธูููุง.. ูุฅุฏุงุฑุฉ ุงูุตููู ุฃูุซุฑ ุณูุงุณูุฉ.
            <a href="programs.html" class="btn-link">ุงุทููุน ุนูู ุจุฑุงูุฌ ยซุฃุซุฑยป</a>
          </p>
        </article>

        <!-- 4) ููู ูููุฏ ุฃุซุฑุ -->
        <article class="card info-card">
          <h2 class="title">ููู ูููุฏ ยซุฃุซุฑยปุ</h2>
          <p class="lead">
            ูู ุชูู ุงูุญูุงูุฉ ุจุญุซูุง ุนู โุฃุฏุงุฉโ ุจูุฏุฑ ูุง ูุงูุช ูุทุงุฑุฏุฉู ูููุฑุฉ:<br>
            ููู ูุฌุนู ุงูุฏุฑุณ ููุจุถ ุจุงูุญูุงุฉุ<br>
            ุญูู ุงุตุทุฏูุชู ุจุณูู ุงูุงุณุชุฑุงุชูุฌูุงุช ุงูุชูููุฏูุฉุ ูุฑุฑุช ุฃู ุฃุจูู ูุณุงุญุฉู ุชูููุธ ุงูุดุบู ูุชูุชุญ ุงูุขูุงู.<br>
            ูู ููุง ูููุฏ ยซุฃุซูุฑยป..<br>
            ูุดุฑูุนู ุชุนูููููู ุตููุน ุนูู ูููุ ููุญุชุฑู ุนูู ุงููุชุนูู ูููุนุทู ุงููุนูู ุฃุฏูุงุชู
            ุฏูููุฉุ ุฌูููุฉุ ูุณููุฉ ุงูุงุณุชุฎุฏุงู.
          </p>
        </article>

      </section>

    </div>
  </main>

  <footer>
    <p class="foot-line">ุงูุชุนููู ุดุฑุงุฑุฉ ุตุบูุฑุฉโฆ ุชูุถูุก ุนููููุง ูุจูุฑุฉ.</p>
    <p class="foot-name">ูุฏู ุงููุฌูุฑุด</p>

    <nav class="foot-links">
      <a href="privacy.html">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a><span class="sep">|</span>
      <a href="terms.html">ุงูุดุฑูุท ูุงูุฃุญูุงู</a><span class="sep">|</span>
      <a href="refund-policy.html">ุณูุงุณุฉ ุงูุงุณุชุฑุฌุงุน</a><span class="sep">|</span>
      <a href="whatsapp.html">ุชูุงุตู ูุงุชุณุงุจ</a><span class="sep">|</span>
      <a href="complaints.html">ุงูุดูุงูู ูุงูุงูุชุฑุงุญุงุช</a>
    </nav>

    <div class="foot-copy">ยฉ <span id="year"></span> ุฃุซููุฑ โ ูู ุงูุญููู ูุญููุธุฉ.</div>
  </footer>

  <!-- ูุธุงุฆู ุฎูููุฉ ูู ุงูุตูุญุฉ -->
  <script>
    // ุณูุฉ ุชููุงุฆูุฉ
    (function(){
      var y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();
    })();

    // Namespace ูุงุญุฏ ุซุงุจุช ุนุจุฑ ุงููุดุฑูุน (ูุทุงุจู ุงูู Action)
    window.ATHAR_NS = "https://n-athar.co/";

    // ููุน ุชุญููู storage.js ูุฑุชูู ูู ุตุงุฑ ุฅุฏุฑุงุฌ ููุฑุฑ ุจุงูุฎุทุฃ
    window.__ATHAR_STORAGE_LOADED__ = !!window.__ATHAR_STORAGE_LOADED__;
  </script>

  <!-- SDKs ุฃููุงู (ููุณ ุงููุณุฎ ูู ูู ุงูุตูุญุงุช) -->
  <script defer src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script defer src="https://unpkg.com/@auth0/auth0-spa-js@2.2.0/dist/auth0-spa-js.production.js"></script>

  <!-- ุณูุฑุจุชุงุช ูุดุฑูุนู (ูุฑุชุจุฉ ูุจู defer) -->
  <!-- ููุงุญุธุฉ: storage.js ููุถูู ุฃู ูููู "ุขูู ุนูุฏ ุงูุชูุฑุงุฑ" ุฏุงุฎูููุง -->
  <script defer src="assets/js/supabase-client.js"></script>
  <script defer src="assets/js/ui.js"></script>
  <script defer src="assets/js/theme.js"></script>
  <script defer src="assets/js/storage.js" onload="window.__ATHAR_STORAGE_LOADED__=true"></script>

  <!-- ุฃุฎูุฑุงู: ุณูุฑุจุช ุงูุชุทุจูู ุงูุนุงู -->
  <script defer src="app.js"></script>

  <!-- ุชูููุญ: ูุฅุธูุงุฑ ุฒุฑ ููุญุฉ ุงูุชุญูู ููุฃุฏูู + ุฒุฑ ุงูููู ุงูุดุฎุตู ูููุณุฌูู -->
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // ุงูุชุธุฑู auth ูู app.js / require-auth ุฅู ููุฌุฏ
      for (let i=0; i<50 && !window.auth; i++) {
        await new Promise(r=>setTimeout(r,100));
      }
      const adminBtn = document.getElementById('adminBtn');
      const profBtn  = document.getElementById('nav-profile');
      if (!window.auth) return;

      try {
        const u = await auth.getUser();
        if (u && profBtn) profBtn.style.display = 'inline-flex';

        const claims = await auth.getIdTokenClaims();
        const NS = window.ATHAR_NS || 'https://n-athar.co/';
        const roles = claims?.[NS + 'roles'] || [];
        const isAdmin = roles.includes('admin') || claims?.[NS + 'admin'] === true;

        if (isAdmin && adminBtn) adminBtn.style.display = 'inline';
      } catch (_){}
    });
  </script>
</body>
</html>
