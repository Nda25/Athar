<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>أثَـــر</title>

  <link rel="icon" type="image/png" href="assets/icon.png">
  <link rel="apple-touch-icon" href="assets/icon.png">

  <meta property="og:title" content="أثـَـر">
  <meta property="og:description" content="حين يلتقي الشغف بالمعرفة .. يُصنع الأثر">
  <meta property="og:image" content="https://n-athar.co/assets/icon.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="أثـَـر">
  <meta name="twitter:description" content="حين يلتقي الشغف بالمعرفة .. يُصنع الأثر">
  <meta name="twitter:image" content="https://n-athar.co/assets/icon.png">

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.tailwindcss.com"></script>

  <!-- تهيئة الثيم المبكرة -->
  <script>
  (function(){
    var root = document.documentElement;
    var saved = null;
    try { saved = localStorage.getItem('theme'); } catch(_) {}
    if (saved === 'dark') root.classList.add('dark');
    else {
      root.classList.remove('dark');
      try { localStorage.setItem('theme','light'); } catch(_) {}
    }
    function fixBodyDark(){
      if (document.body && document.body.classList.contains('dark')) {
        document.body.classList.remove('dark');
        root.classList.add('dark');
      }
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', fixBodyDark);
    } else {
      fixBodyDark();
    }
  })();
  </script>
</head>
<body>
  <div class="backdrop"></div>
  <div class="pattern"></div>

  <div class="topbar">
    <div class="tb-left">
      <!-- الأزرار المطلوبة -->
      <button id="loginBtn" class="btn" type="button">دخول</button>
      <button id="registerBtn" class="btn" type="button">تسجيل</button>
      <button id="logout" class="btn" type="button">خروج</button>
    </div>
    <div class="tb-center">
      <button class="btn" id="themeToggle" title="الوضع الداكن/الفاتح">🌓</button>
      <a class="btn" href="programs.html">مساحة إبداعي</a>
    </div>
    <div class="tb-right">
      <a class="btn" href="pricing.html">الخطط</a>
    </div>
  </div>

  <header>
    <div class="hero">
      <h1 class="logo">أثـَــر</h1>
      <div class="tag">
        <span class="dot"></span>
        حين يلتقي الشغف بالمعرفة .. يُصنع الأثـَـر
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <section class="card" style="margin-top:-14px">
        <h2 class="title">كيف وُلد «أثر»؟</h2>
        <p class="lead">
          لم تكن الحكاية بحثًا عن “أداة” بقدر ما كانت مطاردةً لفكرة:
          كيف نجعل الدرس ينبض بالحياة؟ حين اصطدمــتُ بسقف الاستراتيجيات التقليدية،
          قررت أن أبني مساحةً تُشغِّل الفضول وتُهندس التجربة. من هنا وُلـد «أثـر»:
          مشروعٌ تعليميٌّ صُنع على مهل، ليحترم عقل المتعلم ويُعطي المعلم أدواتٍ
          دقيقة، جميلة، وسهلة الاستخدام.
        </p>
      </section>

      <section class="grid">
        <div class="box">
          <h3>ما هو «أثر»؟</h3>
          <p>منصة تعليمية ذكية تُولِّد استراتيجيات وأنشطة وأسئلة قابلة للتخصيص…</p>
        </div>
        <div class="box">
          <h3>كيف يفيدني «أثر» كمعلم/ة؟</h3>
          <p>قوالب جاهزة قابلة للتعديل… <a class="link" href="pricing.html">اطّلع/ي على الخطط</a>.</p>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <p class="foot-line">التعليم شرارة صغيرة… تُضيء عقولًا كبيرة.</p>
    <p class="foot-name">ندى المجيرش</p>
  </footer>


<!-- Supabase (اختياري) -->
<script defer src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script defer src="assets/js/supabase-client.js"></script>

<!-- 1) مكتبة Auth0 الأساسية (بدون defer/async لضمان الترتيب) -->
<script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"></script>

<!-- 3) بقية الواجهة -->
<script defer src="assets/js/ui.js"></script>
<script defer src="assets/js/theme.js"></script>
<script defer src="assets/js/storage.js"></script>
<script defer src="app.js"></script>

<!-- 4) ربط الأزرار بعد جاهزية Auth0 -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const loginBtn    = document.getElementById('loginBtn');
  const registerBtn = document.getElementById('registerBtn');
  const logoutBtn   = document.getElementById('logout');

  function wire(){
    if (loginBtn)    loginBtn.onclick    = (e)=>{ e.preventDefault(); window.auth?.login({ authorizationParams:{ screen_hint:'login' } }); };
    if (registerBtn) registerBtn.onclick = (e)=>{ e.preventDefault(); window.auth?.login({ authorizationParams:{ screen_hint:'signup' } }); };
    if (logoutBtn)   logoutBtn.onclick   = (e)=>{ e.preventDefault(); window.auth?.logout(); };
  }
  async function updateUi(){
    try{
      const ok = await window.auth.isAuthenticated();
      if (loginBtn)    loginBtn.style.display    = ok ? 'none' : '';
      if (registerBtn) registerBtn.style.display = ok ? 'none' : '';
      if (logoutBtn)   logoutBtn.style.display   = ok ? ''     : 'none';
    }catch(_){
      if (loginBtn)    loginBtn.style.display    = '';
      if (registerBtn) registerBtn.style.display = '';
      if (logoutBtn)   logoutBtn.style.display   = 'none';
    }
  }
  function onReady(){ wire(); updateUi(); }
  window.addEventListener('auth0:ready', onReady, { once:true });
  if (window.auth && window.auth0ClientPromise) onReady();
});
</script>
</body>
</html>
