<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <meta name="theme-color" content="#0b1324" id="metaTheme" />
    <title>ูุณุงุญุฉ ุงุจุฏุงุนูู โ ุฃุซุฑ</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />

    <!-- ุชููุฆุฉ ุงูุซูู ุงููุจูุฑุฉ (ุฏุงูู/ูุงุชุญ) -->
    <script>
      (function () {
        var root = document.documentElement;
        var saved = null;
        try {
          saved = localStorage.getItem("theme");
        } catch (_) {}
        if (saved === "dark") root.classList.add("dark");
        else {
          root.classList.remove("dark");
          try {
            localStorage.setItem("theme", "light");
          } catch (_) {}
        }
        function fixBodyDark() {
          if (document.body && document.body.classList.contains("dark")) {
            document.body.classList.remove("dark");
            root.classList.add("dark");
          }
        }
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", fixBodyDark);
        } else {
          fixBodyDark();
        }
      })();
    </script>

    <!-- ููุญุฑูู ููู ุงููุธูุฑ (accent) โ ููุฑุฃ ูู ุงูุชุฎุฒูู ุงููุญูู ููุทุจูู ููุฑููุง -->
    <script>
      (function () {
        var KEY = "athar:themeColor";

        function hexToRgb(hex) {
          hex = (hex || "").replace("#", "").trim();
          if (hex.length === 3)
            hex = hex
              .split("")
              .map((c) => c + c)
              .join("");
          var num = parseInt(hex, 16);
          if (isNaN(num)) return null;
          return { r: (num >> 16) & 255, g: (num >> 8) & 255, b: num & 255 };
        }

        function applyAccent(hex) {
          if (!hex) return;
          var root = document.documentElement;
          var rgb = hexToRgb(hex);

          // ุบุทูู ูู ุงูุฃุณูุงุก ุงููุญุชููุฉ ููููู ุงูุฃุณุงุณ ุงููุณุชุฎุฏูุฉ ูู style.css
          var vars = [
            "--accent",
            "--primary",
            "--brand",
            "--brand-500",
            "--brand-600",
            "--sea-400",
            "--sea-500",
            "--sea-600",
          ];
          vars.forEach((v) => root.style.setProperty(v, hex));

          // ุฏุฑุฌุงุช ูุดุชูุฉ ุดุงุฆุนุฉ (ูู ุงุญุชุงุฌูุง CSS)
          if (rgb) {
            root.style.setProperty("--accent-r", rgb.r);
            root.style.setProperty("--accent-g", rgb.g);
            root.style.setProperty("--accent-b", rgb.b);
            // ุฃูุซูุฉ ุนูู ุธูุงู/ุดูุงููุฉ
            root.style.setProperty(
              "--accent-20",
              "color-mix(in oklab, " + hex + " 20%, transparent)"
            );
            root.style.setProperty(
              "--accent-12",
              "color-mix(in oklab, " + hex + " 12%, transparent)"
            );
            root.style.setProperty(
              "--accent-08",
              "color-mix(in oklab, " + hex + " 8%, transparent)"
            );
          }

          // ุชุญุฏูุซ ููู ุดุฑูุท ุงููุชุตูุญ ุนูู ุงูููุจุงูู
          var meta = document.getElementById("metaTheme");
          if (meta && hex) meta.setAttribute("content", hex);
        }

        function getSaved() {
          try {
            var v = localStorage.getItem(KEY);
            if (v && typeof v === "string" && v.trim()) return v.trim();
          } catch (_) {}
          return null;
        }

        // ุทุจููู ุงูููู ุนูุฏ ุงูุชุญููู
        applyAccent(getSaved());

        // ุงุณุชูุนู ูุฃู ุชุญุฏูุซ ููู ูู ุตูุญุงุช ุฃุฎุฑู ุนุจุฑ storage
        window.addEventListener("storage", function (e) {
          if (e && e.key === KEY) applyAccent(e.newValue);
        });

        // ุฏุนู ุญุฏุซ ูุฎุตูุต (ูู ุชุบููุฑ ุงูููู ุฏุงุฎู ููุณ ุงูุตูุญุฉ)
        window.addEventListener("athar:theme-color", function (e) {
          applyAccent(e && e.detail);
          try {
            localStorage.setItem(KEY, e.detail || "");
          } catch (_) {}
        });
      })();
    </script>
  </head>
  <body>
    <div class="global-bg"></div>

    <!-- Load shared components -->
    <div id="navbar" data-component="components/navbar.html"></div>

    <div id="header" data-component="components/header.html"></div>

    <main>
      <div class="container">
        <section class="grid" style="margin-top: 10px">
          <a class="box" href="athar.html" style="text-decoration: none">
            <h3>ยซูููุทูููููยป</h3>
            <p>
              ูุญุฑูู ุฃููุงุฑ ุชุฑุจูู ููููุฏ ูู ุงุณุชุฑุงุชูุฌูุงุช ูุฃูุดุทุฉ ูุฃุณุฆูุฉ ุชูููููุฉ
              ูุชูุงุณูุฉ ูุน ูุณุชููุงุช ุจููู โ ููุณููุฉ ูุฌุงูุฒุฉ ููุชูููู.
            </p>
          </a>

          <a class="box" href="darsi.html" style="text-decoration: none">
            <h3>ยซูููุฑุชูููุฒยป</h3>
            <p>
              ูุฎุทูุท ููุญูู ูุจูุงุก ุงูุฏุฑุณ: ุตูุงุบุฉ ุฃูุฏุงู ุฏูููุฉุ ุงูุชุชุงุญูุฉ ุฏูููุฉ ูุงุญุฏุฉุ
              ููุตูููุฉ ุชูููู ุนูููุฉ ูุงุจูุฉ ููุทุจุงุนุฉ.
            </p>
          </a>

          <a class="box" href="masar.html" style="text-decoration: none">
            <h3>ยซูุณููุงุฑยป</h3>
            <p>
              ุฃูุดุฆ ุฌุฏูู ุญุตุต ูุฑููุง: ุงุฎุชุฑ ุงูุฃูุงู ูุนุฏุฏ ุงูุญุตุต ูุงุชุฌุงู ุงูุนุฑุถุ ูููู
              ุงูููุงุฏุ ูุงุญูุธ ุงูุฌุฏูู ูุตูุฑุฉ/CSV ุฃู ุงุทุจุนู.
            </p>
          </a>

          <a class="box" href="miyad.html" style="text-decoration: none">
            <h3>ยซููุนููุงุฏยป</h3>
            <p>
              ุชูููู ูุตู ุฏุฑุงุณู ูุงุจู ููุชุฎุตูุต: ุฃุถู ุงูููุงุนูุฏ ุจุงูุฃููุงูุ ุฑุชูุจูุง ุญุณุจ
              ุงูููู ูุงูุญุตุฉุ ููุนูู ุชุฐููุฑ ุงูุจุฑูุฏ ูุจู ุงูููุนุฏ.
            </p>
          </a>

          <a class="box" href="ethraa.html" style="text-decoration: none">
            <h3>ยซุฅุซููุฑุงุกยป</h3>
            <p>
              ุจุทุงูุงุช ุซุฑูุฉ ูุฌุงูุฒุฉ: ุฃุญุฏุซ ูุนูููุฉ ุฃู ุฎุฑุงูุฉ ููุตุญูุญุฉ ุฃู ููุฑุฉ ูุดุงุท ุนููู
              ูุน ูุตุฏุฑ ูุฎุชุตุฑุ ููู ูุงุฏูุชู ููุฑุญูุชู.
            </p>
          </a>

          <a class="box" href="mulham.html" style="text-decoration: none">
            <h3>ยซูููููููยป</h3>
            <p>
              ููููุฏ ุฃูุดุทุฉ ุตููุฉ ุฐูู: ูููุชุฌ ุญูุฒููุง ุญุฑููุฉ ูุฌูุงุนูุฉ ููุฑุฏูุฉ ุจูุงุกู ุนูู
              ุงูููุช ูุงููุฑุญูุฉ ูุจูููุ ูุน ูุณุฎ ูุทุจุงุนุฉ ููุฑูุฉ.
            </p>
          </a>
        </section>

        <section class="card" style="margin-top: 18px">
          <h2 class="title">ููุถููุฉ</h2>
          <p class="lead" id="teacher-quote">
            ุณูุธูุฑ ููุง ุงูุชุจุงุณ ุชุญููุฒู ุนุดูุงุฆู โจ
          </p>
        </section>
      </div>
    </main>

    <div id="footer" data-component="components/footer.html"></div>

    <div class="toast" id="toast"></div>

    <!-- SDKs -->
    <script defer src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script
      defer
      src="https://unpkg.com/@auth0/auth0-spa-js@2.2.0/dist/auth0-spa-js.production.js"
    ></script>

    <!-- ุณูุฑุจุชุงุช ูุดุฑูุนู (ูุทุงุจูุฉ ููู index ูุถูุงู ููุณ ุณููู ุงูุซูู) -->
    <script defer src="assets/js/supabase-client.js"></script>
    <script defer src="assets/js/ui.js"></script>
    <script defer src="assets/js/theme.js"></script>
    <script defer src="assets/js/storage.js"></script>
    <script defer src="assets/js/require-auth.js"></script>
    <script defer src="app.js"></script>

    <!-- Component loader + navbar behavior -->
    <script src="assets/js/component-loader.js"></script>
    <script src="assets/js/navbar.js"></script>

    <!-- Ensure footer year is set after components load -->
    <script>
      (function waitSetYear(attempts) {
        attempts = attempts || 0;
        var el = document.getElementById("year");
        if (el) {
          el.textContent = new Date().getFullYear();
          return;
        }
        if (attempts < 50)
          setTimeout(function () {
            waitSetYear(attempts + 1);
          }, 100);
      })();
    </script>
    <script>
      // ุงูุชุจุงุณ ุนุดูุงุฆู
      const quotes = [
        "ูู ุจุฐุฑุฉ ูุนุฑูุฉ ุชูุฒุฑุน ุงููููุ ุณุชุซูุฑ ุบุฏูุง ุฃุซุฑูุง ูุง ูุฒูู ๐ฑ",
        "ุงูุฏุฑุณ ููุณ ูุญุชูู ูููุฏูููโฆ ุจู ุดุฑุงุฑุฉ ุชูุดุนู ุนููููุง โจ",
        "ุฃูุช ุชุจูู ูู ุนููู ุทูุงุจู ูุง ูุง ููุฏูู ุงูุฒูู ๐๏ธ",
        "ุงููุนูู ูุง ููุฎุฑูุฌ ุทูุงุจูุงโฆ ุจู ูุทูู ุฃุฌูุงููุง ๐",
        "ูู ุณุคุงู ุชุทุฑุญู ููุชุญ ูุงูุฐุฉ ูุนุงููู ุฌุฏูุฏ ๐",
        "ููู ูููุนูู ููููู ุงูุชุจุฌููุง โฆ ูุงุฏ ุงููุนูู ุฃู ูููู ุฑุณููุงู ๐",
        "ูู ูู ุฃูู ููููุง ุ ูููุช ูุนูููุง. -ููุตู ุขู ุณุนูุฏ",
        "ุงูุนูููู ูุฑูุนู ุจูุชูุง ูุง ุนููุงุฏู ูู โฆ ูุงูุฌููู ููุฏูู ุจูุชู ุงูุนุฒูู ูุงูุดุฑูู ๐๏ธ",
      ];
      document.addEventListener("DOMContentLoaded", function () {
        const el = document.getElementById("teacher-quote");
        if (el)
          el.textContent = quotes[Math.floor(Math.random() * quotes.length)];
      });
    </script>
  </body>
</html>
